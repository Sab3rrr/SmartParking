# 基于业务流程描述构建的车辆管理系统业务流程图
## 一、车位满事先通知流程（针对业主）
    开始 → 系统实时监测车库车位状态 → 车位即将满（如剩余≤3）或已 full → 系统自动筛选所有登记的业主信息 → 通过预留手机号批量发送【车库即将满/已停满】预警通知 → 流程结束
## 二、车辆入场总流程
### 1. 业主车辆入场

    开始 → 车辆到达小区入口 → 摄像头识别车牌 → 系统匹配为业主车辆 → 业主可直接驶入（无需重复登记）→ 检查实时车位状态？
    ├─ 有车位 → 道闸放行 → 记录入场时间 → 流程结束
    └─ 无车位（已事先通知）→ 道闸禁止放行（业主已知晓状态）→ 流程结束

### 2. 外来车辆入场

    开始 → 车辆到达小区入口 → 摄像头识别车牌 → 系统判定为外来车辆 → 触发登记流程
       ├─ 车主通过小程序填写信息（手机号、事由等）→ 系统保存登记信息
       ├─ 登记完成后，系统查询实时车位状态？
       │  ├─ 有车位 → 记录入场时间 → 发送【入场提醒（含免费时长）】至登记手机号 → 道闸放行 → 流程结束
       │  └─ 无车位 → 发送【车库已满，无法入场】通知至登记手机号 → 道闸禁止放行 → 流程结束
## 三、车辆离场总流程

    开始 → 车辆到达出口 → 摄像头识别车牌 → 判定车辆类型
    ├─ 业主车辆 → 计算停车时长 → 从业主账户自动扣费 → 发送【扣费成功通知】→ 道闸放行 → 流程结束
    └─ 外来车辆 → 计算费用 → 生成微信支付链接 → 车主扫码支付
       ├─ 支付成功（平台回调）→ 发送【缴费成功通知】→ 道闸放行 → 流程结束
       └─ 未支付 → 道闸禁止放行（需补付后重试）→ 流程结束
## 四、附加功能流程

    业主信息管理流程业主登录系统 → 选择功能（查询信息/删除车辆/充值余额）→ 系统执行操作 → 反馈结果 → 流程结束

    公告可视化流程管理员发布公告（小区通知/交通规则）→ 系统存储公告数据 → 业主/外来人员通过界面查看公告 → 流程结束

以上流程图覆盖了核心业务场景：业主 / 外来车辆的入场判断、车位状态通知、费用计算与支付、离场放行，以及信息管理和公告展示，
符合 MVC 架构中 “视图（界面交互）- 控制器（流程判断）- 模型（数据存储）” 的逻辑划分。